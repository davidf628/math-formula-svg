
<!DOCTYPE html>
<html lang="en-US">

<head>

    <title>Histogram Creator</title>
    <meta charset="utf-8">
    <meta http-equiv="Content-Security-Policy" >
    <link rel="stylesheet" href="./style.css">

    <script src="d3.js"></script>

</head>

<body>
    <h1>Create a Histogram</h1>

    


</body>

<script>
    // Sample data
    var data = [
        { label: 'Very Likely', value: 4 },
        { label: 'Likely', value: 13 },
        { label: 'Unlikely', value: 6 },
        { label: 'Very Unlikely', value: 2 },
    ];

    // Set up SVG container
    var svg = d3.select("body")
        .append("svg")
        .attr("width", 400)
        .attr("height", 300)
        .attr("background-color", "red");

    // Set up margin and dimensions
    var margin = { top: 20, right: 20, bottom: 70, left: 30 };
    var width = svg.attr("width") - margin.left - margin.right;
    var height = svg.attr("height") - margin.top - margin.bottom;

    // Create x scale
    var x = d3.scaleBand()
        .domain(data.map((d,i) => d.label))
        .range([0, width])
        .padding(0);

//    // Generate histogram bins
//    var bins = d3.histogram()
//        .domain(x.domain())
//        .thresholds(x.ticks(10))
//        (data);

    // Create y scale
    var y = d3.scaleLinear()
        .domain([0, d3.max(data, (d, i) => d.value)])
        .range([height, 0]);

    // Create x-axis
    svg.append("g")
        .attr('id', 'bottom-axis')
        .attr("transform", "translate(" + margin.left + "," + (height + margin.top) + ")")
        .call(d3.axisBottom(x));

    // Rotate titles
    let bottom_axis_text = d3.selectAll("#bottom-axis text")
    bottom_axis_text.attr('transform', 'rotate(45)').attr('text-anchor', 'start')

    // Create y-axis
    svg.append("g")
        .attr('id', 'left-axis')
        .attr("transform", "translate(" + margin.left + "," + margin.top + ")")
        .call(d3.axisLeft(y));

    // Create bars
    svg.selectAll("rect")
        .data(data)
        .enter()
        .append("rect")
        .attr("x", (d, i) => { return margin.left + x(d.label); })
        .attr("y", (d, i) => { return y(d.value) + margin.top; })
        .attr("width", (d) => { return x.bandwidth(); })
        .attr("height", (d) => { return height - y(d.value); })
        .attr("fill", "steelblue")
        .attr("stroke", "black");
</script>

</html>
